<script>
function getCoords (){
  return new Promise(function(resolve, reject){
    navigator.geolocation.getCurrentPosition((r)=> {
      resolve(r)    // 성공하면 then, try절로 r이 들어감
    }, (err)=> {
      reject(err)   // 실패하면 catch절로 err이 들어감
    })
  })
}
  
  
function init(){
  getCoords().then(r => {
    console.log(r)
  }).catch(err =>{
    console.log(err)
  })
}
init();


async function init2(){
  try{
    const coords = await getCoords();
    console.log(coords)
  }
  catch(err){
    console.log(err)
  }
}
init2();

</script> 